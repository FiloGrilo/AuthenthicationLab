In relation to password storage, the first option considered for our client/server application is storing passwords in a "system" file, like a shadow password file, also known as /etc/shadow on Linux, or a SAM file, used on Windows desktop platform.
Assuming that the operating system used for this protocol is Linux, in older Linux systems, the system file to keep user information, like passwords and username, was called /etc/passwd. However, the shadow password file provides a better authentication mechanism because it stores the hashed passphrase format for the user with additional properties related to his password and is only accessible to the root user, tightening the access to only the account. However, there are some set-user-ID programs that drop all of the program's user priviligies and are able to access /etc/shadow in a secure way.
All fields of the file are separated by the : symbol and as the following information:
1) Username: valid account name that exists in the system;
2) Password: In hash format. This password should be between 15-20 characters, including special characters, numbers, upper case letters and more. It is stored with the following format: $id$salt$hashed, beeing the id the reference to the algorithm used for hashing, the salt a unique, randomly generated string to each password as part of the hashing and the hashed the output of the hashing function used with salt and password as inputs.
3) Last password changed (lastchanged): the number of days since the 1st of January 1970 until the last time the password was changed.
4) Minimum: the number of days left before the user is allowed to change his password again.
5) Maximum: the number of days that the password is valid. After that number of days, the user is forced to change it.
6) Warn: the number of days before password is to expire that user is warned to change his password.
7) Inactive: the number of days that user is disabled after password expired.
8) Expire: the number of days since the 1st of January 1970 until date of expiration of the account.
Assuming now that our user is using the Windows operating system, the database file that contains usernames and passwords is the SAM (Security Accounts Manager) file. This is the way of Windows to authenticate users during login attempts. The file is stored locally on the hard disk, its access is restricted to users that have HKLM/SAM and SYSTEM privileges and , like the shadow file, all the data inside and the information inside is encrypted, like passwords hashes, stored in HKEY_LOCAL_MACHINE\SAM.
